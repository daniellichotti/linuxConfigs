Instalando o WSL:
wsl --install

Instalando o Arch:
Essa versão do Arch que eu utilizo é bem leve se comparado a outras opções (como o Manjaro por exemplo):
https://github.com/yuk7/ArchWSL
Basta extrair os arquivos para uma pasta de preferência e executar o arquivo Arch que será iniciada a instalação.

Configurando um usuário:
echo "%wheel ALL=(ALL) ALL" > /etc/sudoers.d/wheel
useradd -m -G wheel -s /bin/bash dnl
passwd dnl

.\Arch2.exe config --default-user dnl (na pasta do arch)

//comando com tudo (executar tudo dentro da pasta)
wsl -d Arch2 bash -c "echo '%wheel ALL=(ALL) ALL' > /etc/sudoers.d/wheel && useradd -m -G wheel -s /bin/bash dnl && passwd dnl && sudo pacman-key --init && sudo pacman-key --populate && sudo pacman -Sy archlinux-keyring && sudo pacman -Syu" && .\Arch2.exe config --default-user dnl


Atualizando os pacotes da distro:
sudo pacman-key --init
sudo pacman-key --populate
sudo pacman -Sy archlinux-keyring
sudo pacman -Syu

Gerenciadores de pacotes:
sudo pacman -S yarn npm
sudo pacman -S --needed git base-devel
sudo pacman -S rust
mkdir tmp
cd tmp
git clone https://aur.archlinux.org/yay.git
cd yay
makepkg -si

Alterando tema do ZSH:
Para alterar o tema do ZSH eu utilizo o Powerlevel10k
yay -S --noconfirm zsh-theme-powerlevel10k-git
echo 'source /usr/share/zsh-theme-powerlevel10k/powerlevel10k.zsh-theme' >>~/.zshrc
chsh -s /usr/bin/zsh
Reinicie o terminal.

fonte: https://www.tabnews.com.br/dchueri/configurando-o-archlinux-no-windows-com-wsl-2







  ```sh
  # Verificando a versão da imagem:
  wsl --list --verbose
  
  # Alterando como Padrão a versão para WSL 2:
  wsl --set-default-version 2
  
  # Mudando imagem (ex:Ubuntu) para o WSL 2:
  wsl --set-version Ubuntu 2
  
  # Selecionando Distro como Principal (ex: Ubuntu-22.04):
  wsl --setdefault Ubuntu-22.04

  #BACKUP
  # Listando as distros (para pegar o nome dela):
  wsl --list

  # Para fazer o Backup:
  # wsl --export <distro> <filename.tar>
  wsl --export Ubuntu C:\Users\seu-usuario\Downloads\bkpUbuntuWSL.tar

  # RESTAURAÇÃO do WSL a partir do Backup (pegando da pasta '/Downloads')
  # Voltando para raiz "C:\"
  cd /

  # wsl --import <distro> <install location> <filename> 
  wsl --import Ubuntu  C:\Users\seu-usuario\ubuntu  C:\Users\seu-usuario\Downloads\bkpUbuntuWSL.tar

  # Dentro da distro WSL execute:
  sudo editor /etc/wsl.conf

  # Adicione o seguinte conteúdo dentro desse '/etc/wsl.conf' (username => seu-usuario):
  [user]
  default=username

  # APAGAR - Dentro do Powershell execute:
  wsl --unregister <distro name>

  # DESLIGAR processos do WSL:
  # Dentro do Powershell (Abrir como Administrador) execute:
  wsl --shutdown
  
  #Parar o WSL2: Para parar uma distribuição específica do WSL2, use o comando:
  wsl --terminate <NomeDaDistribuicao>

  #Listar distribuições: Para ver quais distribuições do WSL estão instaladas no seu sistema, use:
  wsl --list --verbose
  #Verificar o status de uma distribuição: Para ver as distribuições em execução e mais detalhes, use:
  wsl --status
```

## Anotações WSL

> ### Se caso WSL ficar com a fonte toda branca (sem o estilos das cores):
- Verificar se seu `~/.bash_profile` tem essas linhas para iniciar o `~/.bashrc`:
  ```sh
  if [[ -f ~/.bashrc ]] ; then
    . ~/.bashrc
  fi
  
  # REFERÊNCIAS: https://github.com/microsoft/WSL/issues/2067#issuecomment-299622057
  ```
  - Ou você pode aplicar novamente o `~/.bashrc`:
  ```sh
  # Dentro da distro WSL execute:
  source ~/.bashrc
  ```
  
> ### Se caso o WSL não conseguir fazer `pip3 install --upgrade pip` e ocorrer o erro:
> `WARNING: Retrying (Retry(total=4, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<pip._vendor.urllib3.connection.HTTPSConnection object at ...>: Failed to establish a new connection: [Errno -3] Temporary failure in name resolution')': /packages/.../...any.whl`
- Verificar seu `/etc/resolv.conf`, pois pode ser problemas de DNS. Faça um teste e adicione o DNS do google `8.8.8.8` <br>
  Seguindo a alteração, o seu `resolv.conf` ficaria dessa forma:
  ```sh
  # This file was automatically generated by WSL. To stop automatic generation of this file, add the following entry to /etc/wsl.conf:
  # [network]
  # generateResolvConf = false
  # nameserver <anterior>
  nameserver 8.8.8.8

  # REFERÊNCIAS: https://stackoverflow.com/questions/52815784/python-pip-raising-newconnectionerror-while-installing-libraries
  ```